## 任务05_2  手机号验证

认真阅读下面要求，完成本次任务代码的编写。

**问题描述：**

目前我国开放的手机号段达到27种。其中，移动16种，联通7种，电信4种。其中：

移动：134、135、136、137、138、139、147、150、151、152、157、158、159、182、187、188

联通：130、131、132、155、156、185、186

电信：133、153、180、189

请编写一个程序根据用户输入的手机号判断这个手机号是哪个公司的。要求验证手机号码是否都位数字，如果出现非数字字符，则需重新收入；验证手机号码是否为11位，如果不是则重新输入；取号码前3位，判断该号码是否为移动、电信、联通的合法号码，不是则重新输入。

**程序输入：**

    由用户输入手机号，手机号作为字符串进行读取。

**程序输出：**

    根据用户输入的手机号按照要求进行判断，如果不合法则给出相应提示信息，并要求重新输入，如果合法则输出手机号的运营商。

**输入示例：**

    例1    136731373k7

    例2    1367313778

    例3    12018917812

    例4    13673137389

**输出示例：**

    例1    手机号码不能含有非数字字符，请重新输入！

    例2    手机号码长度小于11位，请重新输入！

    例3    没有这样的号码，请重新输入！

    例4    你用的是移动的手机。

```c
/*
	说明：改作业是任务05_2 手机号验证
	姓名：付子旺
	学号：409
	班级：2班
	日期：2017年5月23日
*/
#include <stdio.h>
#include <string.h>
int isPhoneNum(const char * str);
int main(void)
{
    char arr[100];
    do
    {
        printf("请输入手机号:");
        scanf("%s", arr);
    } while(isPhoneNum(arr));

    return 0;
}

/***
 * isPhoneNum
 * 验证手机号运营商
 * str ： 手机号字符串
 * return：
 *     0    手机号格式正确
 *     非0  手机号格式错误
 */
int isPhoneNum(const char * str)
{
    char * yd[] = {"134","135",
        "136","137","138","139",
        "147","150","151","152",
        "157","158","159","182",
        "187","188"};
    char * lt[] = {"130","131",
        "132","155","156","185",
        "186"};
    char * dx[] = {"133","153",
        "180","189"};
    char sz[4];
    int i, count;
    sz[0] = str[0];
    sz[1] = str[1];
    sz[2] = str[2];
    sz[3] = '\0';
    // 判断手机号位数
    if(strlen(str) != 11)
    {
        puts("手机号位数错误！");
        return -1;
    }
    // 判断是否含有非法字符
    for(i=0; i<11; i++)
    {
        if(str[i]<'0'||str[i]>'9')
        {
            puts("手机号包含错误字符！");
            return -2;
        }
    }
    // 判断手机号是否属于移动
    count = sizeof(yd)/sizeof(char *);
    for(i=0; i<count; i++)
    {
        if(strcmp(yd[i], sz)==0)
        {
            puts("中国移动欢迎您！");
            return 0;
        }
    }
    // 判断手机号是否属于联通
    count = sizeof(lt)/sizeof(char *);
    for(i=0; i<count; i++)
    {
        if(strcmp(lt[i], sz)==0)
        {
            puts("中国联通欢迎您！");
            return 0;
        }
    }
    // 判断手机号是否属于电信
    count = sizeof(dx)/sizeof(char *);
    for(i=0; i<count; i++)
    {
        if(strcmp(dx[i], sz)==0)
        {
            puts("中国电信欢迎您！");
            return 0;
        }
    }

    puts("手机号不属于任何运营商!");
    return -3;
}
```

